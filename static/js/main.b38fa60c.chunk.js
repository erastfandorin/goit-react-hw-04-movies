(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[2],{25:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(22),i=n.n(c),s=n(10),o=n(2),u=n.n(o),v=n(8),l=n(15),h=n(16),d=n(18),m=n(17),f=n(19),p=n(7),b="https://api.themoviedb.org/3/",g={key:"a0940a91a6adf20d77802d03a6798bb2",query:"",filmId:"",fetchTrendingMovies:function(){var e=this;return Object(v.a)(u.a.mark((function t(){var n,r,a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="trending/movie/day?api_key=".concat(e.key),t.next=4,fetch(b+n);case 4:return r=t.sent,t.next=7,r.json();case 7:return a=t.sent,t.next=10,a.results;case 10:return c=t.sent,t.abrupt("return",{trendingMoviesDate:c});case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()},searchQuery:function(e){this.query=e},fetchSearchMovies:function(){var e=this;return Object(v.a)(u.a.mark((function t(){var n,r,a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="search/movie?api_key=".concat(e.key,"&query=").concat(e.query),t.next=4,fetch(b+n);case 4:return r=t.sent,t.next=7,r.json();case 7:return a=t.sent,t.next=10,a.results;case 10:return c=t.sent,t.abrupt("return",{searchingMoviesDate:c});case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()},giveMovieId:function(e){this.filmId=e},fatchMovie:function(){var e=this;return Object(v.a)(u.a.mark((function t(){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="movie/".concat(e.filmId,"?api_key=").concat(e.key,"&append_to_response=reviews,credits"),t.next=4,fetch(b+n);case 4:return r=t.sent,t.next=7,r.json();case 7:return a=t.sent,t.abrupt("return",{movie:a});case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}},k=n(6),M=function(){return a.a.createElement("header",{className:k.header},a.a.createElement("nav",null,a.a.createElement("ul",{className:k.headerNav},a.a.createElement("ol",{className:k.headerNavItem},a.a.createElement(s.b,{to:"/",exact:!0,className:k.headerNavItemLink,activeClassName:k.headerNavItemLinkActive},"Home")),a.a.createElement("ol",{className:k.headerNavItem},a.a.createElement(s.b,{to:"/movies",className:k.headerNavItemLink,activeClassName:k.headerNavItemLinkActive},"Movies")))))},E=(n(36),Object(r.lazy)((function(){return n.e(1).then(n.bind(null,46))}))),x=Object(r.lazy)((function(){return n.e(4).then(n.bind(null,48))})),y=Object(r.lazy)((function(){return n.e(3).then(n.bind(null,47))})),N=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).fatchTrending=Object(v.a)(u.a.mark((function t(){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState((function(){return{isLoading:!0}})),t.next=4,g.fetchTrendingMovies();case 4:n=t.sent,r=n.trendingMoviesDate,e.setState((function(){return{trendingMoviesDate:r}})),e.setState((function(){return{isLoading:!1}})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.setState((function(){return{error:t.t0}}));case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),e.searchMovies=function(){var t=Object(v.a)(u.a.mark((function t(n){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState((function(){return{isLoading:!0}})),g.searchQuery(n),t.next=5,g.fetchSearchMovies();case 5:r=t.sent,a=r.searchingMoviesDate,e.setState((function(){return{searchingMoviesDate:a}})),e.setState((function(){return{isLoading:!1}})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),e.setState((function(){return{error:t.t0}}));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),e.openMovie=function(){var t=Object(v.a)(u.a.mark((function t(n){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState((function(){return{isLoading:!0}})),g.giveMovieId(n),t.next=5,g.fatchMovie();case 5:r=t.sent,a=r.movie,e.setState((function(){return{movie:a}})),e.setState((function(){return{isLoading:!1}})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),e.setState((function(){return{error:t.t0}}));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),e.state={trendingMoviesDate:[],searchingMoviesDate:[],movie:{},error:"",isLoading:!1},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.fatchTrending()}},{key:"render",value:function(){var e=this,t=this.state,n=t.trendingMoviesDate,c=t.searchingMoviesDate,i=t.movie,s=t.error,o=t.isLoading;return a.a.createElement(a.a.Fragment,null,""!==s&&a.a.createElement("p",null,"Error: ",s),a.a.createElement(M,null),!0===o?a.a.createElement("div",null,"Loading..."):a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(p.d,null,a.a.createElement(p.b,{path:"/",exact:!0,render:function(e){var t=e.location;return a.a.createElement(E,{location:t,trendingMoviesDate:n})}}),a.a.createElement(p.b,{path:"/movies/:movieId",render:function(t){var n=t.match,r=t.location,c=t.history;return a.a.createElement(y,{location:r,match:n,history:c,movie:i,openMovie:e.openMovie})}}),a.a.createElement(p.b,{path:"/movies",render:function(t){var n=t.location;return a.a.createElement(x,{location:n,searchingMoviesDate:c,searchMovies:e.searchMovies})}}),a.a.createElement(p.a,{to:"/"}))))}}]),t}(r.Component);i.a.render(a.a.createElement(s.a,{basename:"/"},a.a.createElement(N,null)),document.getElementById("root"))},6:function(e,t,n){e.exports={header:"Header_header__1uYzN",headerNav:"Header_headerNav__1HoZB",headerNavItem:"Header_headerNavItem__175aU",headerNavItemLink:"Header_headerNavItemLink__JALUk",headerNavItemLinkActive:"Header_headerNavItemLinkActive__3PASW"}}},[[25,6,7]]]);
//# sourceMappingURL=main.b38fa60c.chunk.js.map